@model IEnumerable<HelpDeskNetSS.Models.ViewModels.MaintenanceViewModel>
<div class="title_left">
    <h3>Seguimiento de mantenimiento</h3>
</div>
<hr />
@{
    ViewBag.Title = "Index";
}

    <table id="table_id" class="table table-striped table-bordered display">
        <thead>
            <tr>
                <th>
                    @Html.DisplayName("ID")
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Asignacion)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.NombreMantenimiento)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Hora)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Estado)
                </th>
                <th>Seguimiento</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.IDMantenimiento)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Asignacion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NombreMantenimiento)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Hora)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Estado)
                </td>
                <td>
                    <a href="@Url.Action("Detalles", new { id = item.IDMantenimiento })"><i class="fa fa-edit fa-2x"></i>|</a>
                    <a href="#" onclick="$('#DeleteAction').val('@(item.IDMantenimiento)')" data-toggle="modal" data-target="#confirm"
                       data-tooltip="tooltip" data-placement="top" title="Eliminar">
                        <i class="fa fa-trash fa-2x"></i>
                    </a>
                </td>
            </tr>
            }
        </tbody>
            </table>

    <!--
    Modal
    -->
    <div class="modal fade" id="confirm" tabindex="-1" role="dialog">
        @using (Html.BeginForm("Eliminar", "Maintenance", FormMethod.Get))
        {
            <input type="hidden" id="DeleteAction" name="id" />
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Eliminar</h4>
                    </div>
                    <div class="modal-body">
                        ¿Desea eliminar permanentemente el registro de mantenimiento?
                    </div>
                    <div class="modal-footer">
                        <input type="submit" value="Eliminar" class="btn btn-facebook waves-effect" />
                        <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Cancelar</button>
                    </div>
                </div>
            </div>
        }
    </div>

